<section class="py-3" *ngIf="order; else loading">
  <h1 class="h4 text-walnut mb-3">Receipt · Order #{{ order.id }}</h1>
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <div class="d-md-flex justify-content-between mb-3">
        <div>
          <div class="mb-1"><span class="text-muted">Status:</span> <span class="fw-semibold">{{ order.status || 'Ordered' }}</span></div>
          <div class="mb-1"><span class="text-muted">Customer:</span> {{ order.customer?.name || ('#' + (order.customer?.id || '')) }}</div>
          <div class="text-muted small">Placed: {{ order.created || 'Just now' }}</div>
        </div>
        <div class="text-end">
          <div class="fw-semibold">Subtotal: ${{ subtotal }}</div>
          <div class="text-muted small">Shipping: Free</div>
        </div>
      </div>

      <div class="list-group list-group-flush">
        <div class="list-group-item" *ngFor="let it of items || []">
          <div class="d-flex align-items-center gap-3">
            <img [src]="it.product.image || 'assets/home/new/oak-lounge.jpg'" [alt]="it.product.name" width="64" height="64" class="rounded object-fit-cover" />
            <div class="flex-grow-1">
              <div class="fw-semibold text-walnut">{{ it.product.name }}</div>
              <div class="text-muted small">Qty {{ it.quantity }}</div>
            </div>
            <div class="text-end">
              <div class="fw-semibold">${{ (it.product.price || 0) * it.quantity }}</div>
              <div class="text-muted small">${{ it.product.price || 0 }} each</div>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-3 text-muted small">If you need a formal invoice, contact support with your order number.</div>
    </div>
  </div>
</section>
<ng-template #loading>
  <p class="text-muted">Loading receipt…</p>
</ng-template>
