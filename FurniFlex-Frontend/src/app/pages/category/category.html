<section class="py-3">
	<h1 class="h3 text-walnut mb-3">{{ title }}</h1>
	<div class="row g-3">
		<div class="col-6 col-md-3" *ngFor="let p of products">
			<div class="card border-0 shadow-sm h-100">
								<div class="ratio ratio-1x1 rounded-top overflow-hidden bg-body-tertiary position-relative">
										<img [src]="p.image" [alt]="p.name" class="w-100 h-100 object-fit-cover" />
										<span *ngIf="available(p) === 0" class="stock-badge badge text-bg-secondary position-absolute">Out of stock</span>
										<span *ngIf="low(p)" class="stock-badge badge text-bg-warning position-absolute">Low stock</span>
										<button class="wish-btn btn btn-light btn-sm p-1 position-absolute top-0 end-0 m-2" (click)="toggleWish(p)" [attr.aria-pressed]="inWish(p)" title="Add to wishlist">
											<svg xmlns="http://www.w3.org/2000/svg" [attr.fill]="inWish(p) ? 'currentColor' : 'none'" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
												<path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 22l7.8-8.6 1-1a5.5 5.5 0 0 0 0-7.8z"/>
											</svg>
										</button>
								</div>
				<div class="card-body">
					<div class="fw-semibold text-walnut">{{ p.name }}</div>
					<div class="text-muted small">${{ p.price }}</div>
					<div *ngIf="low(p)" class="text-warning-emphasis small">Only {{ available(p) }} left</div>
				</div>
				<div class="card-footer bg-transparent border-0 pt-0 pb-3 px-3">
				  <button class="btn btn-primary btn-sm w-100" (click)="addToCart(p)" [disabled]="available(p) === 0">{{ available(p) === 0 ? 'Out of stock' : 'Add to cart' }}</button>
				</div>
			</div>
		</div>
	</div>
</section>
